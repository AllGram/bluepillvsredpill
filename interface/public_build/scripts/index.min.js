"use strict";angular.module("interface",["ngRoute","ui.bootstrap.datetimepicker","highcharts-ng"]).config(["$routeProvider","$locationProvider",function(e,r){e.when("/",{redirectTo:"/frontpage"}).when("/frontpage",{templateUrl:"/partials/frontpage",controller:"FrontpageCtrl"}).otherwise({redirectTo:"/frontpage"}),r.html5Mode(!0)}]);
angular.module("interface").controller("FrontpageCtrl",["$scope","StatsService","$rootScope","$interval",function(e,t,n,s){e.keys=[],e.selectkeys=[],e.keysnotempty=!1,e.rangeset=!1,e.startrange="",e.endrange="",e.rangekeys={selectkeys:"",startrange:"",endrange:""},e.selected=[],e.selectClass=function(t){e.selected[t]=!e.selected[t]};s(function(){e.rangeset?(console.log("range"),e.$broadcast("rangeKey",e.rangekeys)):(console.log("NOrange"),e.$broadcast("noRangeKey",e.selectkeys))},1e3);e.selectkey=function(t){var n=e.selectkeys.indexOf(t);if(-1!==n){e.selectkeys.splice(n,1),e.rangekeys.selectkeys=e.selectkeys;for(var s in e.chartConfig.series)e.chartConfig.series[s].name===t&&e.chartConfig.series.splice(s,1);e.selectkeys.length||(e.keysnotempty=!1)}else e.selectkeys.push(t),e.rangekeys.selectkeys=e.selectkeys,e.keysnotempty=!0},e.$watch("[startrange, endrange]",function(){var t=new Date(e.startrange),n=new Date(e.endrange);e.epochstart=t.getTime()/1e3,e.epochend=n.getTime()/1e3,e.startrange&&(e.showstart=t.toDateString()+" "+t.toLocaleTimeString()),e.endrange&&(e.showend=n.toDateString()+" "+n.toLocaleTimeString()),e.startrange&&e.endrange&&(e.rangeset=!0,e.rangekeys.startrange=e.epochstart,e.rangekeys.endrange=e.epochend)}),e.clearrange=function(){e.startrange="",e.endrange="",e.epochstart="",e.epochend="",e.showstart="",e.showend="",e.rangeset=!1},e.chartConfig={options:{chart:{type:"line"}},series:[],title:{text:"Function running times"},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%b %e, %Y"}},loading:!1},e.$on("addtotable",function(t,n){var s=!1;for(var a in e.chartConfig.series)e.chartConfig.series[a].name===n.name&&(s=!0,e.chartConfig.series[a].data=n.data);s||e.chartConfig.series.push(n)});var a=function(){t.getkeys().then(function(t){if(t){e.keys=t;for(var n=0;n<Object.keys(t).length;n++)e.selected.push(0)}},function(){},function(){})};a()}]);
"use strict";angular.module("interface").directive("displayData",["StatsService",function(e){return{restrict:"E",replace:!0,templateUrl:"templates/displayData.html",scope:{},link:function(t){t.$on("noRangeKey",function(a,n){for(var r in n)e.gettime(n[r]).then(function(e){if(e){var a="";for(var n in e)a=n;t.results={},t.results.name=a,t.results.data=[],angular.forEach(e[a],function(e){var a=[];a.push(1e3*e.timestamp),a.push(e.execution_time),t.results.data.push(a)}),t.$emit("addtotable",t.results)}},function(){},function(){})}),t.$on("rangeKey",function(a,n){if(n.selectkeys.length)for(var r in n.selectkeys){var s={};s.startrange=n.startrange,s.endrange=n.endrange,s.key=n.selectkeys[r],e.getrange(s).then(function(e){if(e){var a="";for(var n in e)a=n;t.results={},t.results.name=a,t.results.data=[],angular.forEach(e[a],function(e){var a=[];a.push(1e3*e.timestamp),a.push(e.execution_time),t.results.data.push(a)}),console.log("add to table",t.results),t.$emit("addtotable",t.results)}},function(){},function(){})}})}}}]);
"use strict";angular.module("interface").factory("StatsService",["$http","$q",function(e,r){return{getkeys:function(){var t=r.defer();return e.get("/getkeys").success(function(e){t.resolve(e)}).error(function(e){t.reject(e)}),t.promise},gettime:function(t){var n=r.defer();return e.get("/gettime/"+t).success(function(e){n.resolve(e)}).error(function(e){n.reject(e)}),n.promise},getrange:function(t){var n=r.defer();return e.get("/getrange/"+t.key+"/from/"+t.startrange+"/to/"+t.endrange).success(function(e){n.resolve(e)}).error(function(e){n.reject(e)}),n.promise}}}]);